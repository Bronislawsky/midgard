#!/usr/bin/env bash
# file : ./script/helper
#------------------------------------------------------------------------------
#
#         .__    .___                      .___
#   _____ |__| __| _/ _________ _______  __| _/
#  /     \|  |/ __ | / ___\__  \\_  __ \/ __ |
# |  Y Y  \  / /_/ |/ /_/  > __ \|  | \/ /_/ |
# |__|_|  /__\____ |\___  (____  /__|  \____ |
#       \/        \/_____/     \/           \/
#
# helper â€” shared helpers (colors, status)
#------------------------------------------------------------------------------

# Enforce: only usable when sourced by the main launcher
if [[ "${MIDGARD_MAIN:-}" != "1" ]]; then
  echo "This script must be sourced from the midgard launcher." >&2
  return 1 2>/dev/null || exit 1
fi

# --- ANSI Colors ---
c_reset="\033[0m"

# Regular Colors
c_black="\033[0;30m"
c_red="\033[0;31m"
c_green="\033[0;32m"
c_yellow="\033[0;33m"
c_blue="\033[0;34m"
c_purple="\033[0;35m"
c_cyan="\033[0;36m"
c_light_gray="\033[0;37m"

# Bright Colors
c_dark_gray="\033[1;30m"
c_light_red="\033[1;31m"
c_light_green="\033[1;32m"
c_light_yellow="\033[1;33m"
c_light_blue="\033[1;34m"
c_light_purple="\033[1;35m"
c_light_cyan="\033[1;36m"
c_white="\033[1;37m"

# Status line pieces: blue brackets, green OK / red FAIL
brackets_open()  { echo -en "${c_blue}["; }
brackets_close() { echo -en "${c_blue}]${c_reset}"; }
ok_word()        { echo -en "${c_green}OK${c_reset}"; }
fail_word()      { echo -en "${c_red}FAIL${c_reset}"; }

# High-level helpers
info()  { echo -e "${c_cyan}$1${c_reset}"; }
ok()    { brackets_open; ok_word; brackets_close; echo; }
fail()  { brackets_open; fail_word; brackets_close; echo; }

# One-liners:
#   status_start "Loading config file /path ..."
#   status_ok
#   status_fail
status_start() { echo -en "$1 "; }
status_ok()    { ok; }
status_fail()  { fail; }
